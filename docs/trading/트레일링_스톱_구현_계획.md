# íŠ¸ë ˆì¼ë§ ìŠ¤í†±(Trailing Stop) êµ¬í˜„ ê³„íšì„œ

## ğŸ“‹ ëª©ì°¨
1. [ê°œìš”](#ê°œìš”)
2. [í˜„ì¬ ì‹œìŠ¤í…œ ë¶„ì„](#í˜„ì¬-ì‹œìŠ¤í…œ-ë¶„ì„)
3. [êµ¬í˜„ ì„¤ê³„](#êµ¬í˜„-ì„¤ê³„)
4. [ë‹¨ê³„ë³„ êµ¬í˜„ ê³„íš](#ë‹¨ê³„ë³„-êµ¬í˜„-ê³„íš)
5. [ë°ì´í„° êµ¬ì¡° ì„¤ê³„](#ë°ì´í„°-êµ¬ì¡°-ì„¤ê³„)
6. [ë¡œì§ ìƒì„¸ ì„¤ê³„](#ë¡œì§-ìƒì„¸-ì„¤ê³„)
7. [í…ŒìŠ¤íŠ¸ ê³„íš](#í…ŒìŠ¤íŠ¸-ê³„íš)
8. [ë¦¬ìŠ¤í¬ ë° ê³ ë ¤ì‚¬í•­](#ë¦¬ìŠ¤í¬-ë°-ê³ ë ¤ì‚¬í•­)

---

## ê°œìš”

### ëª©ì 
ê³ ì • ìµì ˆ ë°©ì‹(+5% ë˜ëŠ” +10%) ëŒ€ì‹ , ì£¼ê°€ê°€ ìƒìŠ¹í•  ë•Œë§ˆë‹¤ ìµì ˆê°€ë¥¼ ë™ì ìœ¼ë¡œ ìƒí–¥ ì¡°ì •í•˜ëŠ” íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¡œì§ì„ êµ¬í˜„í•˜ì—¬ **ì¶”ê°€ ìˆ˜ìµ ê·¹ëŒ€í™”**ì™€ **í•˜ë½ ì‹œ ì¼ì • ìˆ˜ìµ í™•ë³´**ë¥¼ ë™ì‹œì— ë‹¬ì„±í•©ë‹ˆë‹¤.

### í•µì‹¬ ê°œë…
- **ìµœê³ ê°€ ì¶”ì **: ë§¤ìˆ˜ í›„ ì£¼ê°€ê°€ ìƒìŠ¹í•  ë•Œë§ˆë‹¤ ìµœê³ ê°€ ê°±ì‹ 
- **ë™ì  ìµì ˆê°€ ê³„ì‚°**: `ë™ì  ìµì ˆê°€ = ìµœê³ ê°€ Ã— (1 - íŠ¸ë ˆì¼ë§ ë¹„ìœ¨)`
- **í•˜í–¥ ì¡°ì • ê¸ˆì§€**: í•œë²ˆ ì˜¬ë¼ê°„ ìµì ˆê°€ëŠ” ì ˆëŒ€ ë‚´ë¦¬ì§€ ì•ŠìŒ
- **ìš°ì„ ìˆœìœ„**: ì†ì ˆ > íŠ¸ë ˆì¼ë§ ìŠ¤í†± > ê³ ì • ìµì ˆ > ê¸°ìˆ ì  ë§¤ë„

---

## í˜„ì¬ ì‹œìŠ¤í…œ ë¶„ì„

### í˜„ì¬ ë§¤ë„ ë¡œì§ (`get_stocks_to_sell()`)

```python
# Priority 2: ìµì ˆ ì¡°ê±´
if priority == 3 and price_change_percent >= target_profit_percent:
    priority = 2
    sell_type = "take_profit"
    # ì¼ë°˜ ì¢…ëª©: +5%, ë ˆë²„ë¦¬ì§€: +10%
```

**ë¬¸ì œì :**
- êµ¬ë§¤ê°€ ê¸°ì¤€ ê³ ì • ìµì ˆê°€ ì‚¬ìš©
- ì£¼ê°€ê°€ +10%, +15%ê¹Œì§€ ìƒìŠ¹í•´ë„ +5% ë„ë‹¬ ì‹œ ì¦‰ì‹œ ë§¤ë„
- ì¶”ê°€ ìƒìŠ¹ í¬ì°© ë¶ˆê°€

### í˜„ì¬ ë°ì´í„° ì €ì¥ êµ¬ì¡°

**ë³´ìœ  ì¢…ëª© ì •ë³´:**
- ì†ŒìŠ¤: í•œêµ­íˆ¬ìì¦ê¶Œ API (`get_overseas_balance()`)
- ì‹¤ì‹œê°„ ì¡°íšŒ: ë§¤ë„ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰ ì‹œë§ˆë‹¤
- ì €ì¥ ìœ„ì¹˜: ë©”ëª¨ë¦¬ (ì˜êµ¬ ì €ì¥ ì—†ìŒ)
- ì£¼ìš” í•„ë“œ:
  - `pchs_avg_pric`: êµ¬ë§¤ í‰ê· ë‹¨ê°€
  - `now_pric2`: í˜„ì¬ê°€
  - `ovrs_cblc_qty`: ë³´ìœ  ìˆ˜ëŸ‰

**ë§¤ë§¤ ë¡œê·¸:**
- ì»¬ë ‰ì…˜: `trading_logs`
- ì €ì¥ ì‹œì : ë§¤ìˆ˜/ë§¤ë„ ì£¼ë¬¸ ì‹œ
- ìµœê³ ê°€ ì¶”ì : ì—†ìŒ

---

## êµ¬í˜„ ì„¤ê³„

### 1. ìƒˆë¡œìš´ MongoDB ì»¬ë ‰ì…˜ ìƒì„±

**`trailing_stops` ì»¬ë ‰ì…˜**

ê° ë³´ìœ  ì¢…ëª©ë³„ë¡œ ìµœê³ ê°€ì™€ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.

```javascript
{
  _id: ObjectId,
  user_id: String,              // ì‚¬ìš©ì ID
  ticker: String,               // ì¢…ëª© í‹°ì»¤ (unique)
  stock_name: String,           // ì¢…ëª©ëª…
  purchase_price: Number,       // êµ¬ë§¤ í‰ê· ë‹¨ê°€
  purchase_date: Date,          // ë§¤ìˆ˜ì¼ (ì²« ë§¤ìˆ˜ ì‹œì )
  highest_price: Number,        // ë§¤ìˆ˜ í›„ ìµœê³ ê°€
  highest_price_date: Date,     // ìµœê³ ê°€ ê¸°ë¡ì¼
  trailing_distance_percent: Number,  // íŠ¸ë ˆì¼ë§ ê±°ë¦¬ (ê¸°ë³¸ê°’: 5%)
  dynamic_stop_price: Number,   // í˜„ì¬ ë™ì  ìµì ˆê°€
  is_active: Boolean,           // íŠ¸ë ˆì¼ë§ ìŠ¤í†± í™œì„±í™” ì—¬ë¶€
  last_updated: Date,           // ë§ˆì§€ë§‰ ê°±ì‹  ì‹œê°„
  created_at: Date              // ìƒì„± ì‹œê°„
}
```

**ì¸ë±ìŠ¤:**
- `{ user_id: 1, ticker: 1 }` (unique)
- `{ user_id: 1, is_active: 1 }`
- `{ last_updated: 1 }` (ê°±ì‹  ìµœì í™”)

### 2. ì„¤ì • ê´€ë¦¬ í™•ì¥

**`trading_configs` ì»¬ë ‰ì…˜ì— í•„ë“œ ì¶”ê°€:**

```javascript
{
  // ê¸°ì¡´ í•„ë“œë“¤...
  trailing_stop_enabled: Boolean,        // íŠ¸ë ˆì¼ë§ ìŠ¤í†± í™œì„±í™” ì—¬ë¶€ (ê¸°ë³¸ê°’: false)
  trailing_stop_distance_percent: Number, // íŠ¸ë ˆì¼ë§ ê±°ë¦¬ (ê¸°ë³¸ê°’: 5.0)
  trailing_stop_min_profit_percent: Number // ìµœì†Œ ìˆ˜ìµë¥  (ê¸°ë³¸ê°’: 3.0) - ì´ ìˆ˜ìµë¥  ë¯¸ë§Œì—ì„œëŠ” íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™”
}
```

### 3. ë§¤ë„ ìš°ì„ ìˆœìœ„ ì²´ê³„ ì—…ë°ì´íŠ¸

**ê¸°ì¡´:**
1. Priority 1: ì†ì ˆ (-7%, -10%)
2. Priority 2: ìµì ˆ (+5%, +10%)
3. Priority 3: ê¸°ìˆ ì  ë§¤ë„

**ê°œì„  í›„:**
1. Priority 1: ì†ì ˆ (-7%, -10%) - **ë³€ê²½ ì—†ìŒ**
2. Priority 2: íŠ¸ë ˆì¼ë§ ìŠ¤í†± (ë™ì  ìµì ˆê°€ ë„ë‹¬) - **ì‹ ê·œ**
3. Priority 3: ê³ ì • ìµì ˆ (+5%, +10%) - **í•˜ìœ„ë¡œ ë³€ê²½**
4. Priority 4: ê¸°ìˆ ì  ë§¤ë„ - **í•˜ìœ„ë¡œ ë³€ê²½**

---

## ë‹¨ê³„ë³„ êµ¬í˜„ ê³„íš

### Phase 1: ë°ì´í„° êµ¬ì¡° ë° ì»¬ë ‰ì…˜ ìƒì„± âœ…

**ì‘ì—… ë‚´ìš©:**
1. MongoDB ì»¬ë ‰ì…˜ ë° ì¸ë±ìŠ¤ ìƒì„±
2. `trading_configs` ìŠ¤í‚¤ë§ˆ í™•ì¥
3. ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±

**íŒŒì¼:**
- `scripts/create_mongodb_collections.py` ìˆ˜ì •
- `app/models/mongodb_models.py` ìˆ˜ì • (TrailingStop ëª¨ë¸ ì¶”ê°€)
- `scripts/migrate_add_trailing_stop.py` (ì‹ ê·œ ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸)

**ì˜ˆìƒ ì‹œê°„:** 2ì‹œê°„

---

### Phase 2: íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ ìƒì„± âœ…

**ì‘ì—… ë‚´ìš©:**
1. `TrailingStopService` í´ë˜ìŠ¤ ìƒì„±
2. ìµœê³ ê°€ ê°±ì‹  ë¡œì§ êµ¬í˜„
3. ë™ì  ìµì ˆê°€ ê³„ì‚° ë¡œì§ êµ¬í˜„
4. íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œ ìƒì„±/ê°±ì‹  ë©”ì„œë“œ

**íŒŒì¼:**
- `app/services/trailing_stop_service.py` (ì‹ ê·œ)

**ì£¼ìš” ë©”ì„œë“œ:**
```python
class TrailingStopService:
    def initialize_trailing_stop(self, ticker, purchase_price, purchase_date):
        """ë§¤ìˆ˜ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œ ì´ˆê¸°í™”"""
    
    def update_highest_price(self, ticker, current_price):
        """ìµœê³ ê°€ ê°±ì‹  ë° ë™ì  ìµì ˆê°€ ì¬ê³„ì‚°"""
    
    def get_trailing_stop_info(self, ticker):
        """íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì •ë³´ ì¡°íšŒ"""
    
    def check_trailing_stop_triggered(self, ticker, current_price):
        """íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì¡°ê±´ ì¶©ì¡± ì—¬ë¶€ í™•ì¸"""
    
    def deactivate_trailing_stop(self, ticker):
        """ë§¤ë„ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™”"""
```

**ì˜ˆìƒ ì‹œê°„:** 3ì‹œê°„

---

### Phase 3: ë§¤ë„ ë¡œì§ í†µí•© âœ…

**ì‘ì—… ë‚´ìš©:**
1. `get_stocks_to_sell()` ë©”ì„œë“œì— íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì¡°ê±´ ì¶”ê°€
2. íŠ¸ë ˆì¼ë§ ìŠ¤í†± ìš°ì„ ìˆœìœ„ ì„¤ì •
3. ë§¤ë„ ì‚¬ìœ ì— íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì •ë³´ í¬í•¨

**íŒŒì¼:**
- `app/services/stock_recommendation_service.py` ìˆ˜ì •

**ë¡œì§ íë¦„:**
```python
# 1. ë³´ìœ  ì¢…ëª© ì¡°íšŒ
holdings = get_overseas_balance()

# 2. ê° ì¢…ëª©ì— ëŒ€í•´:
for item in holdings:
    ticker = item.get("ovrs_pdno")
    current_price = float(item.get("now_pric2", 0))
    purchase_price = float(item.get("pchs_avg_pric", 0))
    
    # Priority 1: ì†ì ˆ ì²´í¬ (ê¸°ì¡´)
    if price_change_percent <= -7 or price_change_percent <= -10:
        priority = 1
        sell_type = "stop_loss"
    
    # Priority 2: íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì²´í¬ (ì‹ ê·œ)
    elif trailing_stop_service.check_trailing_stop_triggered(ticker, current_price):
        priority = 2
        sell_type = "trailing_stop"
        trailing_info = trailing_stop_service.get_trailing_stop_info(ticker)
        sell_reasons.append(f"íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë„ë‹¬: ìµœê³ ê°€ ${trailing_info['highest_price']:.2f} ê¸°ì¤€, ë™ì  ìµì ˆê°€ ${trailing_info['dynamic_stop_price']:.2f} í•˜íšŒ")
    
    # Priority 3: ê³ ì • ìµì ˆ ì²´í¬ (ê¸°ì¡´, í•˜ìœ„ë¡œ ë³€ê²½)
    elif price_change_percent >= target_profit_percent:
        priority = 3
        sell_type = "take_profit"
    
    # Priority 4: ê¸°ìˆ ì  ë§¤ë„ (ê¸°ì¡´, í•˜ìœ„ë¡œ ë³€ê²½)
    elif technical_sell_signals >= 3:
        priority = 4
        sell_type = "technical_strong"
```

**ì˜ˆìƒ ì‹œê°„:** 4ì‹œê°„

---

### Phase 4: ìµœê³ ê°€ ê°±ì‹  ë¡œì§ êµ¬í˜„ âœ…

**ì‘ì—… ë‚´ìš©:**
1. ë§¤ë„ ìŠ¤ì¼€ì¤„ëŸ¬ì—ì„œ ìµœê³ ê°€ ê°±ì‹  ë¡œì§ ì¶”ê°€
2. íŠ¸ë ˆì¼ë§ ìŠ¤í†± í™œì„±í™”ëœ ì¢…ëª©ë§Œ ê°±ì‹  (ì„±ëŠ¥ ìµœì í™”)
3. ë™ì  ìµì ˆê°€ ì¬ê³„ì‚° ë° ì €ì¥

**íŒŒì¼:**
- `app/utils/scheduler.py` ìˆ˜ì •
- `_execute_auto_sell()` ë©”ì„œë“œì— ìµœê³ ê°€ ê°±ì‹  ë¡œì§ ì¶”ê°€

**ë¡œì§ íë¦„:**
```python
def _execute_auto_sell(self):
    """ë§¤ë„ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰"""
    
    # 1. ë³´ìœ  ì¢…ëª© ì¡°íšŒ
    holdings = get_overseas_balance()
    
    # 2. íŠ¸ë ˆì¼ë§ ìŠ¤í†± í™œì„±í™”ëœ ì¢…ëª©ë§Œ í•„í„°ë§
    active_trailing_stops = trailing_stop_service.get_active_trailing_stops()
    
    # 3. ìµœê³ ê°€ ê°±ì‹  (ë§¤ë„ ì¡°ê±´ ì²´í¬ ì „ì— ì‹¤í–‰)
    for item in holdings:
        ticker = item.get("ovrs_pdno")
        current_price = float(item.get("now_pric2", 0))
        
        if ticker in active_trailing_stops:
            # ìµœê³ ê°€ ê°±ì‹  ë° ë™ì  ìµì ˆê°€ ì¬ê³„ì‚°
            trailing_stop_service.update_highest_price(ticker, current_price)
    
    # 4. ë§¤ë„ ì¡°ê±´ ì²´í¬ (ê¸°ì¡´ ë¡œì§)
    sell_candidates = self.recommendation_service.get_stocks_to_sell()
    
    # 5. ë§¤ë„ ì‹¤í–‰
    # ...
```

**ì‹¤í–‰ ì£¼ê¸°:**
- í˜„ì¬ ë§¤ë„ ìŠ¤ì¼€ì¤„ëŸ¬: 5ë¶„ë§ˆë‹¤ ì‹¤í–‰
- ìµœê³ ê°€ ê°±ì‹ : ë§¤ë„ ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ë™ì¼í•˜ê²Œ 5ë¶„ë§ˆë‹¤

**ì˜ˆìƒ ì‹œê°„:** 3ì‹œê°„

---

### Phase 5: ë§¤ìˆ˜ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì´ˆê¸°í™” âœ…

**ì‘ì—… ë‚´ìš©:**
1. ë§¤ìˆ˜ ì„±ê³µ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œ ìƒì„±
2. ì„¤ì •ì—ì„œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± í™œì„±í™” ì—¬ë¶€ í™•ì¸
3. ì´ˆê¸° ìµœê³ ê°€ëŠ” êµ¬ë§¤ê°€ë¡œ ì„¤ì •

**íŒŒì¼:**
- `app/utils/scheduler.py` ìˆ˜ì •
- `_execute_auto_buy()` ë©”ì„œë“œì— íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì´ˆê¸°í™” ì¶”ê°€

**ë¡œì§ íë¦„:**
```python
def _execute_auto_buy(self):
    """ë§¤ìˆ˜ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰"""
    
    # ë§¤ìˆ˜ ì£¼ë¬¸ ì‹¤í–‰ í›„...
    if order_result.get("rt_cd") == "0":
        # ë§¤ìˆ˜ ì„±ê³µ
        
        # íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì„¤ì • í™•ì¸
        config = self.auto_trading_service.get_auto_trading_config()
        trailing_stop_enabled = config.get("trailing_stop_enabled", False)
        
        if trailing_stop_enabled:
            # íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì´ˆê¸°í™”
            purchase_price = float(order_result["output"]["ORD_UNPR"])
            trailing_stop_service.initialize_trailing_stop(
                ticker=ticker,
                purchase_price=purchase_price,
                purchase_date=datetime.now(),
                trailing_distance_percent=config.get("trailing_stop_distance_percent", 5.0)
            )
            logger.info(f"íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì´ˆê¸°í™”: {stock_name}({ticker}), êµ¬ë§¤ê°€: ${purchase_price:.2f}")
```

**ì˜ˆìƒ ì‹œê°„:** 2ì‹œê°„

---

### Phase 6: ë§¤ë„ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™” âœ…

**ì‘ì—… ë‚´ìš©:**
1. ë§¤ë„ ì„±ê³µ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œ ë¹„í™œì„±í™”
2. ë§¤ë„ ê°€ê²©ê³¼ ë™ì  ìµì ˆê°€ ë¹„êµí•˜ì—¬ ë¡œê·¸ ê¸°ë¡

**íŒŒì¼:**
- `app/utils/scheduler.py` ìˆ˜ì •
- `_execute_auto_sell()` ë©”ì„œë“œì— íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™” ì¶”ê°€

**ë¡œì§ íë¦„:**
```python
def _execute_auto_sell(self):
    """ë§¤ë„ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰"""
    
    # ë§¤ë„ ì‹¤í–‰ í›„...
    if order_result.get("rt_cd") == "0":
        # ë§¤ë„ ì„±ê³µ
        
        # íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™”
        if sell_type == "trailing_stop":
            trailing_info = trailing_stop_service.get_trailing_stop_info(ticker)
            sell_price = float(order_result["output"]["ORD_UNPR"])
            
            logger.info(f"íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë§¤ë„ ì™„ë£Œ: {stock_name}({ticker})")
            logger.info(f"  ìµœê³ ê°€: ${trailing_info['highest_price']:.2f}")
            logger.info(f"  ë™ì  ìµì ˆê°€: ${trailing_info['dynamic_stop_price']:.2f}")
            logger.info(f"  ë§¤ë„ê°€: ${sell_price:.2f}")
            logger.info(f"  ìˆ˜ìµë¥ : {((sell_price - purchase_price) / purchase_price) * 100:.2f}%")
        
        trailing_stop_service.deactivate_trailing_stop(ticker)
```

**ì˜ˆìƒ ì‹œê°„:** 1ì‹œê°„

---

### Phase 7: ì„¤ì • ê´€ë¦¬ UI/API ì¶”ê°€ (ì„ íƒì‚¬í•­) â¸ï¸

**ì‘ì—… ë‚´ìš©:**
1. ìë™ë§¤ë§¤ ì„¤ì • APIì— íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì„¤ì • ì¶”ê°€
2. ì„¤ì • ì¡°íšŒ/ìˆ˜ì • ì—”ë“œí¬ì¸íŠ¸ í™•ì¥

**íŒŒì¼:**
- `app/api/routes/auto_trading.py` ìˆ˜ì •
- `app/services/auto_trading_service.py` ìˆ˜ì •

**ì˜ˆìƒ ì‹œê°„:** 2ì‹œê°„

---

### Phase 8: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦ âœ…

**ì‘ì—… ë‚´ìš©:**
1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
2. í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„±
3. ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ (ì£¼ê°€ ìƒìŠ¹ â†’ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì‘ë™)
4. ê¸°ì¡´ ë§¤ë„ ë¡œì§ê³¼ì˜ í˜¸í™˜ì„± í™•ì¸

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤:**
1. **ì‹œë‚˜ë¦¬ì˜¤ 1: ì¼ë°˜ì ì¸ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì‘ë™**
   - ë§¤ìˆ˜: $100
   - ì£¼ê°€ ìƒìŠ¹: $105 â†’ $110 â†’ $120
   - ìµœê³ ê°€: $120
   - ë™ì  ìµì ˆê°€: $114 (5% ê±°ë¦¬)
   - ì£¼ê°€ í•˜ë½: $114 â†’ ë§¤ë„ ì‹¤í–‰

2. **ì‹œë‚˜ë¦¬ì˜¤ 2: ìµœê³ ê°€ ê°±ì‹  í…ŒìŠ¤íŠ¸**
   - ë§¤ìˆ˜: $100
   - ì£¼ê°€: $110 (ìµœê³ ê°€ $110, ìµì ˆê°€ $104.5)
   - ì£¼ê°€: $105 (ìµì ˆê°€ ìœ ì§€ $104.5, í•˜í–¥ ì¡°ì • ì•ˆ í•¨)
   - ì£¼ê°€: $120 (ìµœê³ ê°€ $120, ìµì ˆê°€ $114ë¡œ ìƒí–¥ ì¡°ì •)

3. **ì‹œë‚˜ë¦¬ì˜¤ 3: ì†ì ˆê³¼ì˜ ìš°ì„ ìˆœìœ„**
   - íŠ¸ë ˆì¼ë§ ìŠ¤í†± í™œì„±í™”: ë™ì  ìµì ˆê°€ $114
   - ì£¼ê°€ ê¸‰ë½: $100 â†’ $90 (-10%)
   - ì†ì ˆ(-10%)ì´ ìš°ì„ ë˜ì–´ ì¦‰ì‹œ ë§¤ë„

4. **ì‹œë‚˜ë¦¬ì˜¤ 4: íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™” ìƒíƒœ**
   - íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™” ì‹œ ê³ ì • ìµì ˆ(+5%) ì‘ë™
   - ê¸°ì¡´ ë¡œì§ê³¼ ë™ì¼í•˜ê²Œ ì‘ë™

**ì˜ˆìƒ ì‹œê°„:** 4ì‹œê°„

---

## ë°ì´í„° êµ¬ì¡° ì„¤ê³„

### 1. TrailingStop ëª¨ë¸

**íŒŒì¼:** `app/models/mongodb_models.py`

```python
class TrailingStop(BaseModel):
    """íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì •ë³´"""
    id: Optional[PyObjectId] = Field(default_factory=PyObjectId, alias="_id")
    user_id: str = "lian"  # ê¸°ë³¸ê°’
    ticker: str
    stock_name: Optional[str] = None
    purchase_price: float
    purchase_date: datetime
    highest_price: float  # ì´ˆê¸°ê°’ì€ purchase_price
    highest_price_date: datetime  # ì´ˆê¸°ê°’ì€ purchase_date
    trailing_distance_percent: float = 5.0  # ê¸°ë³¸ê°’ 5%
    dynamic_stop_price: float  # highest_price * (1 - trailing_distance_percent / 100)
    is_active: bool = True
    last_updated: Optional[datetime] = Field(default_factory=datetime.utcnow)
    created_at: Optional[datetime] = Field(default_factory=datetime.utcnow)

    class Config:
        populate_by_name = True
        arbitrary_types_allowed = True
        json_encoders = {ObjectId: str}
```

### 2. TradingConfig í™•ì¥

**ê¸°ì¡´ í•„ë“œì— ì¶”ê°€:**
```python
trailing_stop_enabled: bool = False
trailing_stop_distance_percent: float = 5.0
trailing_stop_min_profit_percent: float = 3.0  # ì´ ìˆ˜ìµë¥  ë¯¸ë§Œì—ì„œëŠ” íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™”
```

---

## ë¡œì§ ìƒì„¸ ì„¤ê³„

### 1. íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì´ˆê¸°í™”

```python
def initialize_trailing_stop(
    self, 
    ticker: str, 
    purchase_price: float, 
    purchase_date: datetime,
    trailing_distance_percent: float = 5.0
):
    """
    ë§¤ìˆ˜ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œ ì´ˆê¸°í™”
    
    Args:
        ticker: ì¢…ëª© í‹°ì»¤
        purchase_price: êµ¬ë§¤ê°€
        purchase_date: ë§¤ìˆ˜ì¼
        trailing_distance_percent: íŠ¸ë ˆì¼ë§ ê±°ë¦¬ (%)
    
    Returns:
        ìƒì„±ëœ TrailingStop ë ˆì½”ë“œ
    """
    initial_highest_price = purchase_price
    initial_stop_price = purchase_price * (1 - trailing_distance_percent / 100)
    
    trailing_stop = {
        "user_id": self.user_id,
        "ticker": ticker,
        "purchase_price": purchase_price,
        "purchase_date": purchase_date,
        "highest_price": initial_highest_price,
        "highest_price_date": purchase_date,
        "trailing_distance_percent": trailing_distance_percent,
        "dynamic_stop_price": initial_stop_price,
        "is_active": True,
        "last_updated": datetime.utcnow(),
        "created_at": datetime.utcnow()
    }
    
    # upsertë¡œ ì²˜ë¦¬ (ì´ë¯¸ ì¡´ì¬í•˜ë©´ ì—…ë°ì´íŠ¸, ì—†ìœ¼ë©´ ìƒì„±)
    db.trailing_stops.update_one(
        {"user_id": self.user_id, "ticker": ticker},
        {"$set": trailing_stop},
        upsert=True
    )
    
    return trailing_stop
```

### 2. ìµœê³ ê°€ ê°±ì‹  ë° ë™ì  ìµì ˆê°€ ì¬ê³„ì‚°

```python
def update_highest_price(self, ticker: str, current_price: float):
    """
    ìµœê³ ê°€ ê°±ì‹  ë° ë™ì  ìµì ˆê°€ ì¬ê³„ì‚°
    
    Args:
        ticker: ì¢…ëª© í‹°ì»¤
        current_price: í˜„ì¬ê°€
    
    Returns:
        ê°±ì‹ ëœ TrailingStop ì •ë³´
    """
    # íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œ ì¡°íšŒ
    trailing_stop = db.trailing_stops.find_one({
        "user_id": self.user_id,
        "ticker": ticker,
        "is_active": True
    })
    
    if not trailing_stop:
        return None
    
    current_highest = trailing_stop["highest_price"]
    
    # í˜„ì¬ê°€ê°€ ìµœê³ ê°€ë³´ë‹¤ ë†’ìœ¼ë©´ ê°±ì‹ 
    if current_price > current_highest:
        new_highest = current_price
        new_stop_price = new_highest * (1 - trailing_stop["trailing_distance_percent"] / 100)
        
        # ë™ì  ìµì ˆê°€ëŠ” ì ˆëŒ€ í•˜í–¥ ì¡°ì •í•˜ì§€ ì•ŠìŒ
        # (í˜„ì¬ ë™ì  ìµì ˆê°€ë³´ë‹¤ ë‚®ìœ¼ë©´ ê°±ì‹ í•˜ì§€ ì•ŠìŒ)
        if new_stop_price > trailing_stop["dynamic_stop_price"]:
            db.trailing_stops.update_one(
                {"_id": trailing_stop["_id"]},
                {
                    "$set": {
                        "highest_price": new_highest,
                        "highest_price_date": datetime.utcnow(),
                        "dynamic_stop_price": new_stop_price,
                        "last_updated": datetime.utcnow()
                    }
                }
            )
            
            logger.info(
                f"íŠ¸ë ˆì¼ë§ ìŠ¤í†± ìµœê³ ê°€ ê°±ì‹ : {ticker} "
                f"ìµœê³ ê°€: ${current_highest:.2f} â†’ ${new_highest:.2f}, "
                f"ë™ì  ìµì ˆê°€: ${trailing_stop['dynamic_stop_price']:.2f} â†’ ${new_stop_price:.2f}"
            )
    
    return db.trailing_stops.find_one({"_id": trailing_stop["_id"]})
```

### 3. íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì¡°ê±´ ì¶©ì¡± í™•ì¸

```python
def check_trailing_stop_triggered(self, ticker: str, current_price: float) -> bool:
    """
    íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì¡°ê±´ ì¶©ì¡± ì—¬ë¶€ í™•ì¸
    
    Args:
        ticker: ì¢…ëª© í‹°ì»¤
        current_price: í˜„ì¬ê°€
    
    Returns:
        íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì¡°ê±´ ì¶©ì¡± ì—¬ë¶€
    """
    trailing_stop = db.trailing_stops.find_one({
        "user_id": self.user_id,
        "ticker": ticker,
        "is_active": True
    })
    
    if not trailing_stop:
        return False
    
    # ìµœì†Œ ìˆ˜ìµë¥  ì²´í¬ (ì„¤ì •ê°’ í™•ì¸)
    config = self.auto_trading_service.get_auto_trading_config()
    min_profit_percent = config.get("trailing_stop_min_profit_percent", 3.0)
    
    purchase_price = trailing_stop["purchase_price"]
    current_profit_percent = ((current_price - purchase_price) / purchase_price) * 100
    
    # ìµœì†Œ ìˆ˜ìµë¥  ë¯¸ë§Œì´ë©´ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™”
    if current_profit_percent < min_profit_percent:
        return False
    
    # í˜„ì¬ê°€ê°€ ë™ì  ìµì ˆê°€ ì´í•˜ë¡œ ë–¨ì–´ì¡ŒëŠ”ì§€ í™•ì¸
    dynamic_stop_price = trailing_stop["dynamic_stop_price"]
    
    return current_price <= dynamic_stop_price
```

### 4. íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™”

```python
def deactivate_trailing_stop(self, ticker: str):
    """
    ë§¤ë„ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™”
    
    Args:
        ticker: ì¢…ëª© í‹°ì»¤
    """
    db.trailing_stops.update_one(
        {"user_id": self.user_id, "ticker": ticker},
        {
            "$set": {
                "is_active": False,
                "last_updated": datetime.utcnow()
            }
        }
    )
    
    logger.info(f"íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™”: {ticker}")
```

---

## í…ŒìŠ¤íŠ¸ ê³„íš

### 1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

**íŒŒì¼:** `tests/test_trailing_stop_service.py`

```python
class TestTrailingStopService:
    def test_initialize_trailing_stop(self):
        """íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì´ˆê¸°í™” í…ŒìŠ¤íŠ¸"""
        
    def test_update_highest_price_upward(self):
        """ìµœê³ ê°€ ìƒí–¥ ê°±ì‹  í…ŒìŠ¤íŠ¸"""
        
    def test_update_highest_price_downward_no_change(self):
        """ìµœê³ ê°€ í•˜í–¥ ì‹œ ìµì ˆê°€ ë³€ê²½ ì—†ìŒ í…ŒìŠ¤íŠ¸"""
        
    def test_check_trailing_stop_triggered(self):
        """íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì¡°ê±´ ì¶©ì¡± í…ŒìŠ¤íŠ¸"""
        
    def test_deactivate_trailing_stop(self):
        """íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™” í…ŒìŠ¤íŠ¸"""
```

### 2. í†µí•© í…ŒìŠ¤íŠ¸

**íŒŒì¼:** `tests/test_trailing_stop_integration.py`

```python
class TestTrailingStopIntegration:
    def test_full_trailing_stop_flow(self):
        """ì „ì²´ íŠ¸ë ˆì¼ë§ ìŠ¤í†± íë¦„ í…ŒìŠ¤íŠ¸"""
        # 1. ë§¤ìˆ˜ â†’ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì´ˆê¸°í™”
        # 2. ì£¼ê°€ ìƒìŠ¹ â†’ ìµœê³ ê°€ ê°±ì‹ 
        # 3. ì£¼ê°€ í•˜ë½ â†’ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì¡°ê±´ ì¶©ì¡±
        # 4. ë§¤ë„ â†’ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™”
        
    def test_trailing_stop_priority(self):
        """íŠ¸ë ˆì¼ë§ ìŠ¤í†± ìš°ì„ ìˆœìœ„ í…ŒìŠ¤íŠ¸"""
        # ì†ì ˆ > íŠ¸ë ˆì¼ë§ ìŠ¤í†± > ê³ ì • ìµì ˆ > ê¸°ìˆ ì  ë§¤ë„
```

### 3. ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

**íŒŒì¼:** `tests/test_trailing_stop_scenarios.py`

ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ëŠ” ìœ„ì˜ [Phase 8: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦](#phase-8-í…ŒìŠ¤íŠ¸-ë°-ê²€ì¦-) ì„¹ì…˜ ì°¸ì¡°

---

## ë¦¬ìŠ¤í¬ ë° ê³ ë ¤ì‚¬í•­

### 1. ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­

**ë¬¸ì œ:**
- ë§¤ë„ ìŠ¤ì¼€ì¤„ëŸ¬(5ë¶„ë§ˆë‹¤) ì‹¤í–‰ ì‹œ ëª¨ë“  ë³´ìœ  ì¢…ëª©ì˜ ìµœê³ ê°€ ê°±ì‹ ì€ ë¶€í•˜ ë°œìƒ ê°€ëŠ¥

**í•´ê²°ì±…:**
- íŠ¸ë ˆì¼ë§ ìŠ¤í†± í™œì„±í™”ëœ ì¢…ëª©ë§Œ í•„í„°ë§í•˜ì—¬ ê°±ì‹ 
- ì¸ë±ìŠ¤ ìµœì í™” (`user_id`, `ticker`, `is_active` ë³µí•© ì¸ë±ìŠ¤)

### 2. ë°ì´í„° ì¼ê´€ì„±

**ë¬¸ì œ:**
- í•œêµ­íˆ¬ìì¦ê¶Œ APIì—ì„œ ë³´ìœ  ì¢…ëª© ì •ë³´ë¥¼ ì‹¤ì‹œê°„ ì¡°íšŒí•˜ë¯€ë¡œ, íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œì™€ ë¶ˆì¼ì¹˜ ê°€ëŠ¥

**í•´ê²°ì±…:**
- ë§¤ë„ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘ ì‹œ ë³´ìœ  ì¢…ëª©ê³¼ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œ ë™ê¸°í™”
- ë§¤ë„ ì™„ë£Œ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™” í™•ì¸

### 3. ì¥ê¸° ë³´ìœ  ì¢…ëª© ì²˜ë¦¬

**ë¬¸ì œ:**
- ì¥ê¸°ê°„ ë³´ìœ í•œ ì¢…ëª©ì˜ ê²½ìš°, íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œê°€ ëˆ„ë½ë  ìˆ˜ ìˆìŒ

**í•´ê²°ì±…:**
- ë§¤ë„ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰ ì‹œ ë³´ìœ  ì¢…ëª© ì¤‘ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œê°€ ì—†ëŠ” ê²½ìš° ì´ˆê¸°í™”
- ë‹¤ë§Œ, ê¸°ì¡´ ë³´ìœ  ì¢…ëª©ì€ ì‚¬ìš©ì ì„ íƒì— ë”°ë¼ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì ìš© ì—¬ë¶€ ê²°ì •

### 4. ë ˆë²„ë¦¬ì§€ ETF ì²˜ë¦¬

**ë¬¸ì œ:**
- ë ˆë²„ë¦¬ì§€ ETFëŠ” ë³€ë™ì„±ì´ í¬ë¯€ë¡œ íŠ¸ë ˆì¼ë§ ê±°ë¦¬ë¥¼ ë‹¤ë¥´ê²Œ ì„¤ì •í•´ì•¼ í•  ìˆ˜ ìˆìŒ

**í•´ê²°ì±…:**
- ë ˆë²„ë¦¬ì§€ ETF ê°ì§€ ë¡œì§ í™œìš© (ê¸°ì¡´ ë¡œì§ ì¬ì‚¬ìš©)
- ë ˆë²„ë¦¬ì§€ ETFëŠ” íŠ¸ë ˆì¼ë§ ê±°ë¦¬ë¥¼ ë” í¬ê²Œ ì„¤ì • (ì˜ˆ: 7-10%)

### 5. ë¶€ë¶„ ë§¤ë„ ì‹œë‚˜ë¦¬ì˜¤ (í–¥í›„ ê³ ë ¤)

**í˜„ì¬:** ì „ëŸ‰ ë§¤ë„ë§Œ ì§€ì›

**í–¥í›„:** ë¶€ë¶„ ë§¤ë„ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œ ìˆ˜ëŸ‰ ì—…ë°ì´íŠ¸ í•„ìš”

---

## êµ¬í˜„ ìš°ì„ ìˆœìœ„

### í•„ìˆ˜ êµ¬í˜„ (MVP)
1. âœ… Phase 1: ë°ì´í„° êµ¬ì¡° ë° ì»¬ë ‰ì…˜ ìƒì„±
2. âœ… Phase 2: íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ ìƒì„±
3. âœ… Phase 3: ë§¤ë„ ë¡œì§ í†µí•©
4. âœ… Phase 4: ìµœê³ ê°€ ê°±ì‹  ë¡œì§ êµ¬í˜„
5. âœ… Phase 5: ë§¤ìˆ˜ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì´ˆê¸°í™”
6. âœ… Phase 6: ë§¤ë„ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™”
7. âœ… Phase 8: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### ì„ íƒ êµ¬í˜„
- Phase 7: ì„¤ì • ê´€ë¦¬ UI/API ì¶”ê°€

---

## ì˜ˆìƒ ì‘ì—… ì‹œê°„

| Phase | ì‘ì—… ë‚´ìš© | ì˜ˆìƒ ì‹œê°„ |
|-------|-----------|----------|
| Phase 1 | ë°ì´í„° êµ¬ì¡° ë° ì»¬ë ‰ì…˜ ìƒì„± | 2ì‹œê°„ |
| Phase 2 | íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ ìƒì„± | 3ì‹œê°„ |
| Phase 3 | ë§¤ë„ ë¡œì§ í†µí•© | 4ì‹œê°„ |
| Phase 4 | ìµœê³ ê°€ ê°±ì‹  ë¡œì§ êµ¬í˜„ | 3ì‹œê°„ |
| Phase 5 | ë§¤ìˆ˜ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì´ˆê¸°í™” | 2ì‹œê°„ |
| Phase 6 | ë§¤ë„ ì‹œ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë¹„í™œì„±í™” | 1ì‹œê°„ |
| Phase 7 | ì„¤ì • ê´€ë¦¬ UI/API ì¶”ê°€ (ì„ íƒ) | 2ì‹œê°„ |
| Phase 8 | í…ŒìŠ¤íŠ¸ ë° ê²€ì¦ | 4ì‹œê°„ |
| **ì´ê³„** | | **21ì‹œê°„** (Phase 7 ì œì™¸: 19ì‹œê°„) |

---

## ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

### 1. ê¸°ì¡´ ë³´ìœ  ì¢…ëª© ì²˜ë¦¬

**ì˜µì…˜ A: ìë™ ì´ˆê¸°í™” (ê¶Œì¥)**
- ë§¤ë„ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰ ì‹œ ë³´ìœ  ì¢…ëª© ì¤‘ íŠ¸ë ˆì¼ë§ ìŠ¤í†± ë ˆì½”ë“œê°€ ì—†ìœ¼ë©´ ìë™ ìƒì„±
- ë‹¤ë§Œ, ê¸°ì¡´ ë³´ìœ  ì¢…ëª©ì˜ `purchase_date`ëŠ” ì •í™•í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ

**ì˜µì…˜ B: ìˆ˜ë™ ì´ˆê¸°í™”**
- ì‚¬ìš©ìê°€ ì„¤ì •ì—ì„œ "ê¸°ì¡´ ë³´ìœ  ì¢…ëª©ì— íŠ¸ë ˆì¼ë§ ìŠ¤í†± ì ìš©" ì˜µì…˜ ì„ íƒ
- í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±

**ê¶Œì¥:** ì˜µì…˜ A (ìë™ ì´ˆê¸°í™”)
- ì‚¬ìš©ì ê°œì… ìµœì†Œí™”
- ì ì§„ì  ì ìš© ê°€ëŠ¥

### 2. ì„¤ì • ê¸°ë³¸ê°’

**íŠ¸ë ˆì¼ë§ ìŠ¤í†± ê¸°ë³¸ê°’:**
- `trailing_stop_enabled`: `false` (ê¸°ë³¸ ë¹„í™œì„±í™”)
- `trailing_stop_distance_percent`: `5.0%`
- `trailing_stop_min_profit_percent`: `3.0%`

**ì´ìœ :**
- ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ì˜ í˜¸í™˜ì„± ìœ ì§€
- ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ í™œì„±í™”í•´ì•¼ í•¨
- í…ŒìŠ¤íŠ¸ ê¸°ê°„ í›„ ì ì§„ì ìœ¼ë¡œ í™œì„±í™” ê¶Œì¥

---

## ê²°ë¡ 

íŠ¸ë ˆì¼ë§ ìŠ¤í†± êµ¬í˜„ì€ **ì¶”ê°€ ìˆ˜ìµ ê·¹ëŒ€í™”**ì™€ **í•˜ë½ ì‹œ ì¼ì • ìˆ˜ìµ í™•ë³´**ë¥¼ ë™ì‹œì— ë‹¬ì„±í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ì…ë‹ˆë‹¤. 

êµ¬í˜„ ì‹œ ë‹¤ìŒ ì‚¬í•­ì„ ì¤‘ì ì ìœ¼ë¡œ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤:
1. **ê¸°ì¡´ ë§¤ë„ ë¡œì§ê³¼ì˜ í˜¸í™˜ì„±** ìœ ì§€
2. **ìš°ì„ ìˆœìœ„ ì²´ê³„** ëª…í™•í™” (ì†ì ˆ > íŠ¸ë ˆì¼ë§ ìŠ¤í†± > ê³ ì • ìµì ˆ)
3. **ì„±ëŠ¥ ìµœì í™”** (ì¸ë±ìŠ¤, í•„í„°ë§)
4. **ë°ì´í„° ì¼ê´€ì„±** ë³´ì¥ (ë™ê¸°í™” ë¡œì§)

ë‹¨ê³„ë³„ë¡œ êµ¬í˜„í•˜ì—¬ ê° ë‹¨ê³„ë§ˆë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

---

**ì‘ì„±ì¼:** 2025-12-22  
**ì‘ì„±ì:** AI Assistant  
**ìµœì¢… ì—…ë°ì´íŠ¸:** 2025-12-22

